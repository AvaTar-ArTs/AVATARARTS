{
    "sourceFile": "YARN_SETUP.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1761266106321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1761266106321,
            "name": "Commit-0",
            "content": "# üß∂ CleanConnect Pro 2.0 - Complete Yarn Setup Guide\n\n## Overview\n\nCleanConnect Pro 2.0 has been fully migrated to use **Yarn** as the package manager instead of npm. This guide walks you through the complete setup process.\n\n---\n\n## ‚úÖ Prerequisites\n\nBefore starting, ensure you have:\n\n| Tool           | Version       | Installation                                                 |\n| -------------- | ------------- | ------------------------------------------------------------ |\n| **Node.js**    | 18.0.0+ (LTS) | [nodejs.org](https://nodejs.org/)                            |\n| **Yarn**       | 3.x+          | `npm install -g yarn` or [yarnpkg.com](https://yarnpkg.com/) |\n| **PostgreSQL** | 14+           | [postgresql.org](https://postgresql.org/)                    |\n| **Git**        | Latest        | [git-scm.com](https://git-scm.com/)                          |\n\n### Verify Installation\n\n```bash\nnode --version      # Should be v18.0.0+\nyarn --version      # Should be 3.x+\npsql --version      # Should be 14+\ngit --version       # Should be present\n```\n\n---\n\n## üöÄ Step-by-Step Setup\n\n### Step 1: Clone & Navigate to Project\n\n```bash\ngit clone https://github.com/quantumforgelabs/cleanconnect-pro.git\ncd cleanconnect-pro\n```\n\n### Step 2: Install Root Dependencies\n\n```bash\n# Install all root dependencies with Yarn\nyarn install\n\n# You should see output like:\n# ‚û§ YN0000: ‚îå Link step\n# ‚û§ YN0000: ‚îî Completed in XXs\n# ‚û§ YN0000: Done in XXs\n```\n\n### Step 3: Install Backend Dependencies\n\n```bash\ncd backend\n\n# Install backend-specific dependencies\nyarn install\n\n# Return to root\ncd ..\n```\n\n### Step 4: Install Frontend Dependencies\n\n```bash\ncd frontend\n\n# Install frontend-specific dependencies\nyarn install\n\n# Return to root\ncd ..\n```\n\n### Step 5: (Optional) Install Mobile App Dependencies\n\n```bash\ncd mobile\n\n# Install mobile-specific dependencies\nyarn install\n\n# Return to root\ncd ..\n```\n\n### Step 6: (Optional) Install Admin Dashboard Dependencies\n\n```bash\ncd admin\n\n# Install admin-specific dependencies\nyarn install\n\n# Return to root\ncd ..\n```\n\n---\n\n## üóÑÔ∏è Database Setup\n\n### Start PostgreSQL\n\n```bash\n# macOS with Homebrew\nbrew services start postgresql\n\n# Linux with systemd\nsudo systemctl start postgresql\n\n# Verify it's running\npsql --version\n```\n\n### Create Development Database\n\n```bash\n# Create the database\ncreatedb cleanconnect_pro_dev\n\n# Verify it was created\npsql -l | grep cleanconnect_pro_dev\n```\n\n### Apply Database Schema\n\n```bash\n# Apply the schema\npsql -d cleanconnect_pro_dev -f database/database-schema.sql\n\n# (Optional) Load sample data\npsql -d cleanconnect_pro_dev -f database/sample-data.sql\n```\n\n---\n\n## ‚öôÔ∏è Environment Configuration\n\n### Create .env File\n\n```bash\ncp .env.example .env\n```\n\n### Configure Environment Variables\n\nEdit `.env` with your settings:\n\n```env\n# Database Configuration\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=cleanconnect_pro_dev\nDB_USER=postgres\nDB_PASSWORD=your_password\n\n# JWT Configuration\nJWT_SECRET=your_super_secret_key_here\nJWT_REFRESH_SECRET=your_refresh_secret_here\nJWT_EXPIRY=7d\n\n# Application\nNODE_ENV=development\nPORT=3000\nAPI_BASE_URL=http://localhost:3000\nFRONTEND_URL=http://localhost:5173\n\n# File Upload\nMAX_FILE_SIZE=10485760\nUPLOAD_PATH=./uploads\n```\n\n---\n\n## üéØ Running the Application\n\n### Option 1: Development Mode (Recommended)\n\n**Terminal 1 - Backend:**\n```bash\nyarn dev:api\n# Backend runs on http://localhost:3000\n```\n\n**Terminal 2 - Frontend:**\n```bash\nyarn dev:frontend\n# Frontend runs on http://localhost:5173\n```\n\n**Terminal 3 - Mobile (Optional):**\n```bash\nyarn dev:mobile\n# Mobile app runs on http://localhost:8080\n```\n\n### Option 2: Production Build\n\n```bash\n# Build frontend for production\nyarn build\n\n# Start backend in production\ncd backend\nNODE_ENV=production yarn start\n```\n\n### Option 3: Using PM2\n\n```bash\n# Start all processes with PM2\nyarn start\n\n# View logs\npm2 logs\n\n# Monitor processes\npm2 monit\n```\n\n---\n\n## üìù Common Yarn Commands\n\n### Root Level Commands\n\n```bash\n# Development\nyarn dev                    # Run API + Frontend\nyarn dev:api               # Backend only\nyarn dev:frontend          # Frontend only\n\n# Testing\nyarn test                  # All tests\nyarn test:backend          # Backend tests only\nyarn test:frontend         # Frontend tests only\nyarn test:coverage         # Coverage reports\n\n# Code Quality\nyarn lint                  # Lint all code\nyarn lint:fix              # Auto-fix linting issues\n\n# Database\nyarn migrate               # Run migrations\nyarn seed                  # Seed database\nyarn db:reset              # Reset database\n\n# Deployment\nyarn build                 # Build for production\nyarn deploy                # Build + migrate + start\n```\n\n### Backend Commands\n\n```bash\ncd backend\n\n# Development\nyarn dev                   # Start in watch mode\nyarn dev:debug             # With debug logging\n\n# Testing\nyarn test                  # Run all tests\nyarn test:watch            # Watch mode\nyarn test:coverage         # Coverage report\n\n# Database\nyarn migrate               # Run migrations\nyarn migrate:create        # Create new migration\nyarn migrate:up            # Apply migrations\nyarn migrate:down          # Revert migrations\nyarn seed                  # Seed database\nyarn db:reset              # Reset database\nyarn db:backup             # Backup database\n\n# Code Quality\nyarn lint                  # Run ESLint\nyarn lint:fix              # Auto-fix issues\nyarn format                # Format with Prettier\n```\n\n### Frontend Commands\n\n```bash\ncd frontend\n\n# Development\nyarn dev                   # Start dev server\nyarn preview               # Preview production build\n\n# Building\nyarn build                 # Build for production\nyarn build:analyze         # Analyze bundle\n\n# Testing\nyarn test                  # Run tests\nyarn test:coverage         # Coverage report\nyarn test:e2e              # E2E tests\n\n# Code Quality\nyarn lint                  # Run ESLint\nyarn lint:fix              # Auto-fix issues\nyarn format                # Format code\n```\n\n---\n\n## üåê Access Your Applications\n\nOnce running, access them here:\n\n| Service             | URL                          | Terminal   |\n| ------------------- | ---------------------------- | ---------- |\n| **Frontend**        | http://localhost:5173        | Terminal 2 |\n| **API Server**      | http://localhost:3000        | Terminal 1 |\n| **Mobile App**      | http://localhost:5173/mobile | Terminal 3 |\n| **Admin Dashboard** | http://localhost:5173/admin  | Terminal 2 |\n\n---\n\n## üß™ Running Tests\n\n### Test Everything\n\n```bash\nyarn test                  # Runs all tests\n```\n\n### Test Specific Areas\n\n```bash\nyarn test:backend          # Backend tests only\nyarn test:frontend         # Frontend tests only\nyarn test:integration      # Integration tests\nyarn test:e2e              # End-to-end tests\n```\n\n### Generate Coverage Reports\n\n```bash\nyarn test:coverage         # All coverage\ncd backend && yarn test:coverage  # Backend coverage\ncd frontend && yarn test:coverage # Frontend coverage\n\n# View reports\nopen coverage/index.html   # macOS\nxdg-open coverage/index.html # Linux\n```\n\n---\n\n## üêõ Troubleshooting\n\n### Problem: \"yarn: command not found\"\n\n**Solution:**\n```bash\n# Install Yarn globally\nnpm install -g yarn\n\n# Or with corepack (Node 16.13+)\ncorepack enable yarn\n```\n\n### Problem: Dependencies not installing\n\n**Solution:**\n```bash\n# Clear cache\nyarn cache clean\n\n# Remove lock files\nrm yarn.lock\nrm -rf node_modules\n\n# Reinstall\nyarn install\n```\n\n### Problem: Port already in use\n\n**Solution:**\n```bash\n# Find process using port 3000\nlsof -i :3000\n\n# Kill the process\nkill -9 <PID>\n\n# Or use a different port\nPORT=3001 yarn dev:api\n```\n\n### Problem: Database connection failed\n\n**Solution:**\n```bash\n# Check PostgreSQL is running\npsql --version\n\n# Start PostgreSQL (macOS)\nbrew services start postgresql\n\n# Start PostgreSQL (Linux)\nsudo systemctl start postgresql\n\n# Create database if missing\ncreatedb cleanconnect_pro_dev\n```\n\n### Problem: \"Module not found\" errors\n\n**Solution:**\n```bash\n# Complete reinstall\nyarn cache clean\nrm -rf node_modules yarn.lock\nyarn install\n\n# Install in all directories\ncd backend && yarn install && cd ..\ncd frontend && yarn install && cd ..\ncd mobile && yarn install && cd ..\n```\n\n---\n\n## üìä Migration from npm to Yarn\n\n### What Changed?\n\n| npm                 | Yarn           |\n| ------------------- | -------------- |\n| `npm install`       | `yarn install` |\n| `npm run dev`       | `yarn dev`     |\n| `npm test`          | `yarn test`    |\n| `npm start`         | `yarn start`   |\n| `package-lock.json` | `yarn.lock`    |\n| `node_modules`      | `node_modules` |\n\n### Benefits of Yarn\n\n‚úÖ **Faster Installation:** Parallel downloads\n‚úÖ **Better Caching:** Smarter dependency caching\n‚úÖ **Improved Security:** Better dependency resolution\n‚úÖ **Workspace Support:** Better monorepo management\n‚úÖ **Consistency:** Lock files ensure same versions across machines\n\n---\n\n## üîí Key Improvements in 2.0\n\n### Security Updates\n\n- ‚úÖ **Multer 2.x:** Upgraded from 1.x to address vulnerabilities\n- ‚úÖ **Dependency Audit:** All dependencies checked for security issues\n- ‚úÖ **Lock File:** `yarn.lock` ensures reproducible installs\n\n### Package Manager\n\n- ‚úÖ **Yarn 3+:** Modern package manager with better performance\n- ‚úÖ **Monorepo Support:** Better workspace management\n- ‚úÖ **Workspace Protocols:** Improved local dependency management\n\n---\n\n## üìö Additional Resources\n\n- [Yarn Documentation](https://yarnpkg.com/docs)\n- [CleanConnect Pro API Docs](docs/api-endpoints.md)\n- [Deployment Guide](docs/DEPLOYMENT_GUIDE.md)\n- [Project Overview](PROJECT_OVERVIEW.md)\n\n---\n\n## üÜò Need Help?\n\n### Support Channels\n\n- üìß **Email:** dev@quantumforgelabs.org\n- üí¨ **Discord:** [Community Server](https://discord.gg/quantumforgelabs)\n- üêõ **GitHub Issues:** [Report Issues](https://github.com/quantumforgelabs/cleanconnect-pro/issues)\n\n### Common Questions\n\n**Q: Should I commit `yarn.lock`?**\nA: Yes! Commit `yarn.lock` to ensure all team members use the same versions.\n\n**Q: Can I still use npm?**\nA: Technically yes, but Yarn is recommended for this project. The lock file ensures consistency.\n\n**Q: How do I add a new package?**\nA: `yarn add package-name` (production) or `yarn add -D package-name` (dev)\n\n**Q: How do I remove a package?**\nA: `yarn remove package-name`\n\n---\n\n## ‚ú® What's Next?\n\nAfter setup, you can:\n\n1. Read [API Documentation](docs/api-endpoints.md)\n2. Explore [Project Overview](PROJECT_OVERVIEW.md)\n3. Join our [Discord Community](https://discord.gg/quantumforgelabs)\n4. Submit your first PR! üéâ\n\n---\n\n**Built with ‚ù§Ô∏è by [Quantum Forge Labs](https://quantumforgelabs.org)**\n\n*Transforming local service experiences through AI, technology, and community.*\n\n---\n\n¬© 2025 CleanConnect Pro. All rights reserved.\n"
        }
    ]
}